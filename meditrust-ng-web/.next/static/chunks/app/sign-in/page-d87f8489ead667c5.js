(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{5136:function(e,t,r){Promise.resolve().then(r.bind(r,6013))},6013:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(9533),a=r(9832);let i=(0,a.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),n=(0,a.Z)("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);var l=r(1229),o=r(7172),c=r(7304),u=r(3108),d=r(1250);function h(){let[e,t]=(0,l.useState)(""),[r,a]=(0,l.useState)(""),[h,p]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!1),x=(0,d.useRouter)(),g=async t=>{let s;if(t.preventDefault(),p(!0),m){let{error:t}=await o.O.auth.signUp({email:e,password:r});s=t}else{console.log("sign-in");let{data:t,error:a}=await o.O.auth.signInWithPassword({email:e,password:r});console.log(t.user),s=a}if(p(!1),s)alert(s.message);else{let{data:{session:e}}=await o.O.auth.getSession();if(!e){alert("No session found after auth");return}let t=await fetch("/api/profile",{headers:{Authorization:"Bearer ".concat(e.access_token)}}),r=await t.json();if(console.log(r.profile),r.error){alert(r.error);return}"doctor"==r.profile.role?x.replace("/dashboard/doctor"):"patient"==r.profile.role?x.replace("/dashboard/patient"):x.replace("/profile")}};return(0,s.jsx)(u.Z,{children:(0,s.jsx)(c.Z,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full px-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:m?"Let's get you started!":"Welcome back! Sign in."}),(0,s.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:m?"Sign up with your email to begin":"Sign in with your email and password"})]}),(0,s.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[(0,s.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",required:!0}),(0,s.jsx)(n,{className:"absolute left-3 top-[68px] text-gray-400",size:18}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"Your password",className:"w-full pl-10 pr-4 mt-2 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"w-full py-3 rounded-lg bg-[#00CFC1] text-[#0A0F0D] font-semibold shadow-md disabled:opacity-50",children:h?m?"Signing up...":"Signing in...":m?"Sign Up":"Sign In"})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-400 mt-4",children:[m?"Already have an account?":"Don't have an account?"," ",(0,s.jsx)("button",{onClick:()=>f(!m),className:"text-[#00CFC1] font-medium hover:underline",children:m?"Sign In":"Sign Up"})]})]})]})})})}},7304:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(9533),a=r(8197);function i(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"relative h-screen w-full overflow-hidden",children:[(0,s.jsx)(a.default,{src:"/onboarding-bg.jpg",alt:"background",fill:!0,className:"object-cover",priority:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-[#0B1A16]/80 to-[#111C18] z-10"}),(0,s.jsxs)("div",{className:"absolute top-4 left-4 flex items-center z-20",children:[(0,s.jsx)(a.default,{src:"/logo.png",alt:"MediTrust Logo",width:48,height:48,className:"mr-2"}),(0,s.jsx)("h2",{className:"text-white font-bold text-xl",children:"MediTrust"})]}),(0,s.jsx)("div",{className:"relative z-20 h-full",children:t})]})}},3108:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(9533),a=r(1229);let i=(0,r(3690).Ue)(e=>({triageResult:null,showDesktopPrompt:!1,setTriageResult:t=>e({triageResult:t}),setShowDesktopPrompt:t=>e({showDesktopPrompt:t})}));function n(e){let{children:t}=e,{showDesktopPrompt:r,setShowDesktopPrompt:n}=i();return((0,a.useEffect)(()=>{let e=()=>n(window.innerWidth>600);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),r)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center p-6 text-center",children:(0,s.jsxs)("div",{className:"card max-w-md space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Open on Mobile"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"MediTrust is optimized for phones. Open on your mobile device for the best experience."})]})}):(0,s.jsx)("div",{className:"mobile-shell",children:t})}},7172:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(2991).eI)("https://ygqftwnzqcuykntpbcnp.supabase.co","sb_publishable_IcmuKibEIEszQCp7oUisFQ_fJ5p-YaW",{auth:{persistSession:!0,detectSessionInUrl:!0}})},9832:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(1229);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:u="",children:d,iconNode:h,...p}=e;return(0,s.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:n?24*Number(i)/Number(a):i,className:l("lucide",u),...!d&&!o(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,s.createElement)(u,{ref:i,iconNode:t,className:l("lucide-".concat(a(n(e))),"lucide-".concat(e),o),...c})});return r.displayName=n(e),r}}},function(e){e.O(0,[1,974,170,842,744],function(){return e(e.s=5136)}),_N_E=e.O()}]);