(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{635:function(e,t,r){Promise.resolve().then(r.bind(r,8836))},8836:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(9533),a=r(1851),l=r(1229);function n(e){let{show:t,onClose:r,message:a}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,s.jsxs)("div",{className:"card max-w-sm text-center space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-brand-cyan",children:"✅ Success"}),(0,s.jsx)("p",{children:a}),(0,s.jsx)("button",{onClick:r,className:"btn-primary w-full",children:"Continue"})]})}):null}var i=r(1250),o=r(3108),c=r(7304),u=r(7172),d=r(5308),h=r(9832);let p=(0,h.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),f=(0,h.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),m=(0,h.Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function x(){let e=(0,i.useRouter)(),[t,r]=(0,l.useState)(null),[a,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),b=async()=>{let{data:{session:e}}=await u.O.auth.getSession();if(!e)return;let r=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access_token)},body:JSON.stringify({profile:t,isDoctor:a})}),s=await r.json();s.ok?g(!0):alert(s.error||"Error saving profile")};return(0,s.jsx)(o.Z,{children:(0,s.jsx)(c.Z,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full px-6",children:[(0,s.jsxs)("div",{className:"w-full max-w-sm bg-[#1A2622]/90 border border-gray-700 rounded-xl p-6 shadow-lg space-y-4 mt-10",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white text-center mb-4",children:"Your Profile"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",placeholder:"Title (Mr/Mrs/Dr)",value:(null==t?void 0:t.title)||"",onChange:e=>r({...t,title:e.target.value})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",placeholder:"First Name",value:(null==t?void 0:t.first_name)||"",onChange:e=>r({...t,first_name:e.target.value})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",placeholder:"Last Name",value:(null==t?void 0:t.last_name)||"",onChange:e=>r({...t,last_name:e.target.value})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",placeholder:"Phone Number",value:(null==t?void 0:t.phone_number)||"",onChange:e=>r({...t,phone_number:e.target.value})})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:e=>h(e.target.checked)}),"I am a doctor"]}),a&&(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m,{className:"absolute left-3 top-3 text-gray-400",size:18}),(0,s.jsx)("input",{className:"w-full pl-10 pr-4 py-3 rounded-lg bg-[#0A0F0D]/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00CFC1]",placeholder:"Specialty",value:(null==t?void 0:t.specialty)||"",onChange:e=>r({...t,specialty:e.target.value})})]}),(0,s.jsx)("button",{className:"w-full py-3 rounded-lg bg-[#00CFC1] text-[#0A0F0D] font-semibold shadow-md disabled:opacity-50",onClick:b,children:"Save Profile"})]}),(0,s.jsx)(n,{show:x,onClose:()=>{g(!1),a?e.replace("/dashboard/doctor"):e.replace("/dashboard/patient")},message:"Profile created successfully!"})]})})})}function g(){return(0,s.jsx)(o.Z,{children:(0,s.jsx)(a.Z,{children:(0,s.jsx)(x,{})})})}},7304:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(9533),a=r(8197);function l(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"relative h-screen w-full overflow-hidden",children:[(0,s.jsx)(a.default,{src:"/onboarding-bg.jpg",alt:"background",fill:!0,className:"object-cover",priority:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-[#0B1A16]/80 to-[#111C18] z-10"}),(0,s.jsxs)("div",{className:"absolute top-4 left-4 flex items-center z-20",children:[(0,s.jsx)(a.default,{src:"/logo.png",alt:"MediTrust Logo",width:48,height:48,className:"mr-2"}),(0,s.jsx)("h2",{className:"text-white font-bold text-xl",children:"MediTrust"})]}),(0,s.jsx)("div",{className:"relative z-20 h-full",children:t})]})}},3108:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(9533),a=r(1229);let l=(0,r(3690).Ue)(e=>({triageResult:null,showDesktopPrompt:!1,setTriageResult:t=>e({triageResult:t}),setShowDesktopPrompt:t=>e({showDesktopPrompt:t})}));function n(e){let{children:t}=e,{showDesktopPrompt:r,setShowDesktopPrompt:n}=l();return((0,a.useEffect)(()=>{let e=()=>n(window.innerWidth>600);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),r)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center p-6 text-center",children:(0,s.jsxs)("div",{className:"card max-w-md space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Open on Mobile"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"MediTrust is optimized for phones. Open on your mobile device for the best experience."})]})}):(0,s.jsx)("div",{className:"mobile-shell",children:t})}},1851:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(9533),a=r(1229),l=r(1250),n=r(7172);function i(e){let{children:t}=e,r=(0,l.useRouter)(),[i,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{(async()=>{let{data:e}=await n.O.auth.getSession();e.session?u(!0):r.replace("/sign-in"),o(!1)})()},[r]),i)?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Checking session…"})}):c?(0,s.jsx)(s.Fragment,{children:t}):null}},7172:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(2991).eI)("https://ygqftwnzqcuykntpbcnp.supabase.co","sb_publishable_IcmuKibEIEszQCp7oUisFQ_fJ5p-YaW",{auth:{persistSession:!0,detectSessionInUrl:!0}})},9832:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(1229);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:u="",children:d,iconNode:h,...p}=e;return(0,s.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:i("lucide",u),...!d&&!o(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,s.createElement)(u,{ref:l,iconNode:t,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),o),...c})});return r.displayName=n(e),r}},5308:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9832).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},function(e){e.O(0,[1,974,170,842,744],function(){return e(e.s=635)}),_N_E=e.O()}]);